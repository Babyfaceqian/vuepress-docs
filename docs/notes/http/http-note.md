# HTTP笔记
- HTTP/1.1是 HTTP 的第一个标准化版本，在其之前存在 HTTP/1.0 和 HTTP/0.9。我们只需要关心 HTTP/1.1 版本就可以。

- 网景公司在 HTTP 之下 TCP 之上创建了一个额外的加密传输协议层 SSL（Secure Socket Layer），对 TCP 传输数据时进行加密。所以 HTTPS 是 HTTP + SSL/TCP 的简称。

- 在SSL更新到3.0时，IETF对SSL3.0进行了标准化，并添加了少数机制，标准化后的SSL更名为TLS1.0（Transport Layer Security 安全传输层协议）。TLS在某些方面对SSL进行了加强。

- HTTPS和HTTP的区别：
    1. https协议需要到ca认证中心申请证书，一般免费证书比较少，因而需要一定费用。
    2. http传输的信息是明文，https传输的信息经过ssl加密。
    3. http和https的客户端服务器连接方式不同，如握手方式，且端口不同，前者是80，后者是443。
    4. https由于要加密解密，占用服务器和客户端资源，性能上不如http。

- Openssl是一个开源的软件包，可以用它创建CA证书来进行安全通信

- RTT(Round-Trip Time):往返时延。表示从发送端发送数据开始，到发送端收到来自接收端的确认总共经历的时间。可以分为：链路的传播时间、末端系统的处理时间、路由器的缓存中的排队和处理时间。

- TCP三次握手、四次挥手

- RPC（Remote Procedure Call）：远程过程调用

- HTTP管线化技术（pipelining）：把多个http请求放到一个TCP连接中一一发送，发送时不需要等待服务器对前一个请求的响应；只不过，服务端仍必须按照客户端的请求顺序恢复请求。如果前一个请求非常耗时，后续请求仍然会受到影响，这称为线头阻塞（Head of line blocking）。管线化机制须透过永久连线（persistent connection）完成，并且只有 GET 和 HEAD 等要求可以进行管线化，非幂等的方法，例如POST将不会被管线化。连续的 GET 和 HEAD 请求总可以管线化的。一个连续的幂等请求，如 GET，HEAD，PUT，DELETE，是否可以被管线化取决于一连串请求是否依赖于其他的。此外，初次创建连线时也不应启动管线机制，因为对方（服务器）不一定支持 HTTP/1.1 版本的协议。

- 幂等性只的是不管调用多少次接口，返回结果都一样

- HTTP域名分片：通过将资源放到多个域名下连迫使客户端和服务器建立多条TCP连接。

- HTTP/1.1默认开启长连接，只有当Connection被设置为close的时候才会变成短连接。

- 长连接的缺点是，就算是在空闲状态，它还是会消耗服务器资源，而且在重负载时，还有可能遭受DoS（Denial of Service） attacks服务拒绝攻击。

- HTTP/2在HTTP/1.1有几处基本的不同:

    1. HTTP/2是二进制协议而不是文本协议。不再可读，也不可无障碍的手动创建，改善的优化技术现在可被实施。
    2. 这是一个复用协议。并行的请求能在同一个链接中处理，移除了HTTP/1.x中顺序和阻塞的约束。
    3. 压缩了headers。因为headers在一系列请求中常常是相似的，其移除了重复和传输重复数据的成本。
    4. 其允许服务器在客户端缓存中填充数据，通过一个叫服务器推送的机制来提前请求。

- HTTP请求和响应结构：
    1. 一行起始行用于描述要执行的请求，或者是对应的状态，成功或失败。这个起始行总是单行的。
    2. 一个可选的HTTP头集合指明请求或描述消息正文。
    3. 一个空行指示所有关于请求的元数据已经发送完毕。
    4. 一个可选的包含请求相关数据的正文（比如HTML表单内容），或者响应相关的文档。正文的大小有起始行的HTTP头来指定。

起始行和HTTP消息中的HTTP头统称为请求头，而其有效负载被称为消息正文。

- HTTP请求起始行包含三个元素：
    1. 一个HTTP方法，如GET、POST。
    2. 请求目标，通常是一个URL，或者是协议、端口和域名的绝对路径，通常以请求的环境为特征。请求的格式因不同的HTTP方法而异。

HTTP请求的Headers

HTTP请求的Body

- HTTP响应起始行包含三个元素：
    1. 协议版本，通常为HTTP/1.1。
    2. 状态码（status code），表明请求是成功或失败。常见的状态码是200，404，或302。
    3. 状态文本（status text)。一个简短的，纯粹的信息，通过状态码的文本描述。

HTTP响应的Headers

HTTP响应的Body

- HTTP 状态码：
    1. 1XX：信息响应
    2. 2XX：成功响应
    3. 3XX：重定向
    4. 4XX：客户端响应
    5. 5XX：服务端响应

QUIC（Quick UDP Internet Connection）:谷歌开发的网络协议，该协议集成了TCP可靠传输机制、TLS安全加密、HTTP/2流量复用技术。
IETF以QUIC为基础，制定了HTTP/3协议，由于此协议是基于UDP协议的，会有丢包问题，目前还需等待该协议完善。